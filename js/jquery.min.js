/*!
 * jQuery JavaScript Library v1.6.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu May 12 15:04:36 2011 -0400
 */
(function(e){e.widget("ui.slideshow",e.extend({},e.ui.widget,{options:{pauseSeconds:2,fadeSpeed:.5,width:468,height:120,caption:true,cssClass:"slideshowlite",anchorTarget:"_self",disableOnBlur:false},_create:function(){if(this.length>1){this.each(function(){this.runInstance(this.element)})}else{this.runInstance(this.element)}},instance:null,makeSlideshow:null,runInstance:function(t){var n=e("a",t);var r=this;if(!e(t).hasClass(this.options.cssClass))e(t).addClass(this.options.cssClass);e(t).css({width:this.options.width+"px",height:this.options.height+"px"});e("> img",t).wrap(document.createElement("a"));e("a",t).attr("target",this.options.anchorTarget);var i=1;e("a",t).each(function(){e(this).attr("data-seq",i++)});e(t).append("<ul></ul>");e(t).append("<ol></ol>");var s=e("> ul",t);var o=e("> ol",t);var i=1;var u=0;e("a",t).each(function(){s.append('<li><a href="#"><span>'+i++ +"</span></a></li>");o.append("<li>"+e("img:nth("+u++ +")",t).attr("alt")+"</li>")});s.fadeTo(0,.8);o.fadeTo(0,.6);o.hide();var a=e("> a:first",t);var f=e("> a:last",t);var l=a;var c=function(t){e("> li > a",s).removeClass("current");e("> li > a:nth("+t+")",s).addClass("current")};var h=function(t){o.show();e("> li",o).hide();e("> li:nth("+t+")",o).fadeIn()};var p=function(){e("> li > a",s).click(function(){if(!e(this).hasClass("current")){l=e("a:nth("+(e(this).text()-1)+")",t);l.show();d()}return false});c(l.data("seq")-1);if(r.options.caption==true){h(l.data("seq")-1)}l.css("z-index",2);l.fadeIn(r.options.fadeSpeed*1e3,function(){e("> a",t).hide();e(this).show().css("z-index",1)});if(e("img",l).attr("src")==e("img",f).attr("src")&&e(l).data("name")==e(f).data("name")){l=a}else{l=l.next()}l.css("z-index",1)};var d=function(){clearInterval(r.instance);p();r.instance=setInterval(p,r.options.pauseSeconds*1e3)};if(r.options.disableOnBlur){e(window).focus(function(){clearInterval(r.instance);r.instance=setInterval(p,r.options.pauseSeconds*1e3)});e(window).blur(function(){clearInterval(r.instance)})}this.makeSlideshow=p;d()},destroy:function(){clearInterval(this.instance);e(window).off("focus");e(window).off("blur");e("ul,ol",this.element).remove();e.Widget.prototype.destroy.call(this)},stop:function(){clearInterval(this.instance)},start:function(){this.instance=setInterval(this.makeSlideshow,this.options.pauseSeconds*1e3)}}))})(jQuery)